(()=>{var e={28:(e,n,t)=>{"use strict";t.d(n,{Z:()=>f});var r=t(537),o=t.n(r),a=t(645),i=t.n(a),s=t(667),c=t.n(s),l=new URL(t(639),t.b),u=new URL(t(526),t.b),d=i()(o()),p=c()(l),A=c()(u);d.push([e.id,".field {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: x-large;\n    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n    width:50px;\n    height: 50px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: #52483b;\n}\n\n.row {\n    display: flex;\n    flex-direction: row;\n}\n\n#main {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    justify-content: center;\n    align-items: center;\n    gap: 30px;\n}\n\n.hit {\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #efa00b;\n    color: #800000;\n    pointer-events: none;\n    background-image: url("+p+");\n    background-size: cover;\n}\n\n\n.take-over {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    background-color: rgba(128, 128, 128, 0.281);\n    backdrop-filter: blur(8px); \n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n    display: flex\n}\n\n.winner-message {\n    font-size: xx-large;\n}\n\n.miss {\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    color: #aca9a5;\n    pointer-events: none;\n    background-image: url("+A+');\n    background-size: cover;\n}\n\n#nav-buttons {\n    display: flex;\n    gap: 10px;\n    height: 50px;\n    margin-top: 50px;\n    width: 100%;\n}\n\n\nbutton {\n\nwidth: 120px;\n  background-color: #FFFFFF;\n  border: 1px solid rgb(209,213,219);\n  border-radius: .5rem;\n  box-sizing: border-box;\n  color: #111827;\n  font-family: "Inter var",ui-sans-serif,system-ui,-apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";\n  font-size: .875rem;\n  font-weight: 600;\n  line-height: 1.25rem;\n  padding: .75rem 1rem;\n  text-align: center;\n  text-decoration: none #D1D5DB solid;\n  text-decoration-thickness: auto;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  cursor: pointer;\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n}\n\nbutton:hover {\n  background-color: rgb(249,250,251);\n}\n\nbutton:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\nbutton:focus-visible {\n  box-shadow: none;\n}\n\n\n#shipsection {\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    justify-content: center;\n    gap: 10px;\n}\n\n#shipcontainer {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between\n}\n\n.material-symbols-outlined {\n    font-variation-settings:\n    \'FILL\' 0,\n    \'wght\' 400,\n    \'GRAD\' 0,\n    \'opsz\' 48\n  }\n\n.ship {\n    display:flex;\n    height: 50px;\n}\n\n#carrier { \n    width: 250px;\n    background-color: #b1ddf1;\n}\n\n#battleship { \n    width: 200px;\n    background-color: #9f87af;\n}\n\n#cruiser { \n    width: 150px;\n    background-color: #88527f;\n}\n\n#submarine { \n    width: 150px;\n    background-color: #614344;\n}\n\n#destroyer { \n    width: 100px;\n    background-color: #332c23;\n}\n\n.carrier { \n    background-color: #b1ddf1;\n}\n\n.battleship { \n    background-color: #9f87af;\n}\n\n.cruiser { \n    background-color: #88527f;\n}\n\n.submarine { \n    background-color: #614344;\n}\n\n.destroyer { \n    background-color: #332c23;\n}\n\n.drag-over {\n    background-color: #575a4b7c;\n}\n\n.hide {\n    display: none;\n}',"",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,kBAAkB;IAClB,4DAA4D;IAC5D,UAAU;IACV,YAAY;IACZ,iBAAiB;IACjB,mBAAmB;IACnB,qBAAqB;AACzB;;AAEA;IACI,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,8BAA8B;IAC9B,uBAAuB;IACvB,mBAAmB;IACnB,SAAS;AACb;;AAEA;IACI,YAAY;IACZ,uBAAuB;IACvB,mBAAmB;IACnB,yBAAyB;IACzB,cAAc;IACd,oBAAoB;IACpB,yDAAkC;IAClC,sBAAsB;AAC1B;;;AAGA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,OAAO;IACP,MAAM;IACN,4CAA4C;IAC5C,0BAA0B;IAC1B,sBAAsB;IACtB,uBAAuB;IACvB,mBAAmB;IACnB,SAAS;IACT;AACJ;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,YAAY;IACZ,uBAAuB;IACvB,mBAAmB;IACnB,cAAc;IACd,oBAAoB;IACpB,yDAAmC;IACnC,sBAAsB;AAC1B;;AAEA;IACI,aAAa;IACb,SAAS;IACT,YAAY;IACZ,gBAAgB;IAChB,WAAW;AACf;;;AAGA;;AAEA,YAAY;EACV,yBAAyB;EACzB,kCAAkC;EAClC,oBAAoB;EACpB,sBAAsB;EACtB,cAAc;EACd,kNAAkN;EAClN,kBAAkB;EAClB,gBAAgB;EAChB,oBAAoB;EACpB,oBAAoB;EACpB,kBAAkB;EAClB,mCAAmC;EACnC,+BAA+B;EAC/B,2CAA2C;EAC3C,eAAe;EACf,iBAAiB;EACjB,yBAAyB;EACzB,0BAA0B;AAC5B;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,8BAA8B;EAC9B,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;AAClB;;;AAGA;IACI,aAAa;IACb,YAAY;IACZ,sBAAsB;IACtB,uBAAuB;IACvB,SAAS;AACb;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB;AACJ;;AAEA;IACI;;;;;EAKF;;AAEF;IACI,YAAY;IACZ,YAAY;AAChB;;AAEA;IACI,YAAY;IACZ,yBAAyB;AAC7B;;AAEA;IACI,YAAY;IACZ,yBAAyB;AAC7B;;AAEA;IACI,YAAY;IACZ,yBAAyB;AAC7B;;AAEA;IACI,YAAY;IACZ,yBAAyB;AAC7B;;AAEA;IACI,YAAY;IACZ,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,yBAAyB;AAC7B;;AAEA;IACI,2BAA2B;AAC/B;;AAEA;IACI,aAAa;AACjB",sourcesContent:['.field {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: x-large;\n    font-family: \'Segoe UI\', Tahoma, Geneva, Verdana, sans-serif;\n    width:50px;\n    height: 50px;\n    border-width: 1px;\n    border-style: solid;\n    border-color: #52483b;\n}\n\n.row {\n    display: flex;\n    flex-direction: row;\n}\n\n#main {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    justify-content: center;\n    align-items: center;\n    gap: 30px;\n}\n\n.hit {\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #efa00b;\n    color: #800000;\n    pointer-events: none;\n    background-image: url(./flame.svg);\n    background-size: cover;\n}\n\n\n.take-over {\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    left: 0;\n    top: 0;\n    background-color: rgba(128, 128, 128, 0.281);\n    backdrop-filter: blur(8px); \n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    gap: 10px;\n    display: flex\n}\n\n.winner-message {\n    font-size: xx-large;\n}\n\n.miss {\n    display:flex;\n    justify-content: center;\n    align-items: center;\n    color: #aca9a5;\n    pointer-events: none;\n    background-image: url(./splash.svg);\n    background-size: cover;\n}\n\n#nav-buttons {\n    display: flex;\n    gap: 10px;\n    height: 50px;\n    margin-top: 50px;\n    width: 100%;\n}\n\n\nbutton {\n\nwidth: 120px;\n  background-color: #FFFFFF;\n  border: 1px solid rgb(209,213,219);\n  border-radius: .5rem;\n  box-sizing: border-box;\n  color: #111827;\n  font-family: "Inter var",ui-sans-serif,system-ui,-apple-system,system-ui,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";\n  font-size: .875rem;\n  font-weight: 600;\n  line-height: 1.25rem;\n  padding: .75rem 1rem;\n  text-align: center;\n  text-decoration: none #D1D5DB solid;\n  text-decoration-thickness: auto;\n  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n  cursor: pointer;\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: manipulation;\n}\n\nbutton:hover {\n  background-color: rgb(249,250,251);\n}\n\nbutton:focus {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\nbutton:focus-visible {\n  box-shadow: none;\n}\n\n\n#shipsection {\n    display: flex;\n    height: 100%;\n    flex-direction: column;\n    justify-content: center;\n    gap: 10px;\n}\n\n#shipcontainer {\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between\n}\n\n.material-symbols-outlined {\n    font-variation-settings:\n    \'FILL\' 0,\n    \'wght\' 400,\n    \'GRAD\' 0,\n    \'opsz\' 48\n  }\n\n.ship {\n    display:flex;\n    height: 50px;\n}\n\n#carrier { \n    width: 250px;\n    background-color: #b1ddf1;\n}\n\n#battleship { \n    width: 200px;\n    background-color: #9f87af;\n}\n\n#cruiser { \n    width: 150px;\n    background-color: #88527f;\n}\n\n#submarine { \n    width: 150px;\n    background-color: #614344;\n}\n\n#destroyer { \n    width: 100px;\n    background-color: #332c23;\n}\n\n.carrier { \n    background-color: #b1ddf1;\n}\n\n.battleship { \n    background-color: #9f87af;\n}\n\n.cruiser { \n    background-color: #88527f;\n}\n\n.submarine { \n    background-color: #614344;\n}\n\n.destroyer { \n    background-color: #332c23;\n}\n\n.drag-over {\n    background-color: #575a4b7c;\n}\n\n.hide {\n    display: none;\n}'],sourceRoot:""}]);const f=d},645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&i[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),n.push(u))}},n}},667:e=>{"use strict";e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},537:e=>{"use strict";e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(o," */");return[n].concat([a]).join("\n")}return[n].join("\n")}},798:function(e,n,t){e=t.nmd(e),function(t,r){"use strict";var o={};t.PubSub?(o=t.PubSub,console.warn("PubSub already loaded, using existing version")):(t.PubSub=o,function(e){var n={},t=-1,r="*";function o(e,n,t){try{e(n,t)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function a(e,n,t){e(n,t)}function i(e,t,r,i){var s,c=n[t],l=i?a:o;if(Object.prototype.hasOwnProperty.call(n,t))for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&l(c[s],e,r)}function s(e){var t=String(e);return Boolean(Object.prototype.hasOwnProperty.call(n,t)&&function(e){var n;for(n in e)if(Object.prototype.hasOwnProperty.call(e,n))return!0;return!1}(n[t]))}function c(e,n,t,o){var a=function(e,n,t){return function(){var o=String(e),a=o.lastIndexOf(".");for(i(e,e,n,t);-1!==a;)a=(o=o.substr(0,a)).lastIndexOf("."),i(e,o,n,t);i(e,r,n,t)}}(e="symbol"==typeof e?e.toString():e,n,o);return!!function(e){for(var n=String(e),t=s(n)||s(r),o=n.lastIndexOf(".");!t&&-1!==o;)o=(n=n.substr(0,o)).lastIndexOf("."),t=s(n);return t}(e)&&(!0===t?a():setTimeout(a,0),!0)}e.publish=function(n,t){return c(n,t,!1,e.immediateExceptions)},e.publishSync=function(n,t){return c(n,t,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;e="symbol"==typeof e?e.toString():e,Object.prototype.hasOwnProperty.call(n,e)||(n[e]={});var o="uid_"+String(++t);return n[e][o]=r,o},e.subscribeAll=function(n){return e.subscribe(r,n)},e.subscribeOnce=function(n,t){var r=e.subscribe(n,(function(){e.unsubscribe(r),t.apply(this,arguments)}));return e},e.clearAllSubscriptions=function(){n={}},e.clearSubscriptions=function(e){var t;for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)&&delete n[t]},e.countSubscriptions=function(e){var t,r,o=0;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)){for(r in n[t])o++;break}return o},e.getSubscriptions=function(e){var t,r=[];for(t in n)Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e)&&r.push(t);return r},e.unsubscribe=function(t){var r,o,a,i="string"==typeof t&&(Object.prototype.hasOwnProperty.call(n,t)||function(e){var t;for(t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&0===t.indexOf(e))return!0;return!1}(t)),s=!i&&"string"==typeof t,c="function"==typeof t,l=!1;if(!i){for(r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(o=n[r],s&&o[t]){delete o[t],l=t;break}if(c)for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&o[a]===t&&(delete o[a],l=!0)}return l}e.clearSubscriptions(t)}}(o)),void 0!==e&&e.exports&&(n=e.exports=o),n.PubSub=o,e.exports=n=o}("object"==typeof window&&window||this)},379:e=>{"use strict";var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},i=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=a[l]||0,d="".concat(l," ").concat(u);a[l]=u+1;var p=t(d),A={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(A);else{var f=o(A,r);r.byIndex=s,n.splice(s,0,{identifier:d,updater:f,references:1})}i.push(d)}return i}function o(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,o){var a=r(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var s=t(a[i]);n[s].references--}for(var c=r(e,o),l=0;l<a.length;l++){var u=t(a[l]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}a=c}}},569:e=>{"use strict";var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{"use strict";e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,o&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},639:(e,n,t)=>{"use strict";e.exports=t.p+"05b81a48501353f5ffc0.svg"},526:(e,n,t)=>{"use strict";e.exports=t.p+"71750b99b0d035713347.svg"}},n={};function t(r){var o=n[r];if(void 0!==o)return o.exports;var a=n[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{"use strict";function e(){return{drawBoard(e){let n=document.getElementById("main"),t=document.createElement("div");t.className=e;for(let n=10;n>0;n--){let r=document.createElement("div");r.className="row";for(let t=1;t<11;t++){let o=document.createElement("div");o.className="field",o.id=e+"x"+t+"y"+n,o.dataset.x=t,o.dataset.y=n,o.addEventListener("dragenter",(e=>{PubSub.publish("drag",e)})),o.addEventListener("dragOver",(e=>{PubSub.publish("drag",e)})),o.addEventListener("dragleave",(e=>{e.preventDefault(),PubSub.publish("dragLeave",e)})),o.addEventListener("drop",(e=>{e.preventDefault();let n=e.dataTransfer.getData("text"),t=[];t.push({id:n},{x:e.target.dataset.x},{y:e.target.dataset.y},{e}),PubSub.publish("drop",t)})),"computer"==e&&o.addEventListener("click",(()=>{PubSub.publish("button-click",[t,n])})),r.appendChild(o)}t.appendChild(r)}n.insertBefore(t,n.firstChild),this.draggAndDrop()},draggAndDrop(){document.addEventListener("dragover",(function(e){e.preventDefault()})),PubSub.subscribe("drag",(function(e,n){n.preventDefault(),n.target.classList.add("drag-over")})),PubSub.subscribe("dragLeave",(function(e,n){n.preventDefault(),n.target.classList.remove("drag-over")})),PubSub.subscribe("dragstart",(function(e,n){n.preventDefault(),n.dataTransfer.setData("text",n.target.id),setTimeout((()=>{n.target.classList.add("hide")}),0)})),PubSub.subscribe("drop",(function(e,n){n[3].e.target.classList.remove("drag-over"),document.getElementById(n[0].id).remove()})),PubSub.subscribe("no-option",(function(e,n){document.getElementById(n.newShip.name).classList.remove("hide")}))},removeShipSection(){document.getElementById("shipcontainer").remove()},drawShipsManual(){let e=document.getElementById("main"),n=document.getElementById("shipcontainer");null!==n&&n.remove();let t=document.createElement("div");t.id="shipcontainer";let r=document.createElement("div");r.id="shipsection";let o=document.createElement("div");o.id="nav-buttons";let a=document.createElement("button");a.id="deploy-random",a.textContent="Randomise",a.addEventListener("click",(e=>{PubSub.publish("deploy-random",e)}));let i=document.createElement("button");i.id="clear-board",i.textContent="Clear",i.addEventListener("click",(e=>{PubSub.publish("clear-board",e)})),["carrier","battleship","cruiser","submarine","destroyer"].forEach((e=>{let n=document.createElement("div");n.id=e,n.className="ship",n.draggable=!0,n.addEventListener("dragstart",(e=>{e.dataTransfer.setData("text",e.target.id),PubSub.publish("dragstart",e)})),r.appendChild(n)})),o.appendChild(i),o.appendChild(a),t.appendChild(r),t.appendChild(o),e.appendChild(t)},checkIfAllShipsPlaced(){let e=document.getElementById("shipsection"),n=document.getElementById("shipcontainer");return""==e.innerHTML&&(n.remove(),!0)},updateCell(e,n,t,r){let o=document.getElementById(e+"x"+n+"y"+t);switch(r){case"miss":o.classList.add("miss");break;case"hit":o.classList.add("hit")}},markShips(e,n){"computer"!==n?e.forEach((e=>{document.getElementById(n+"x"+e.x+"y"+e.y).classList.add(e.name)})):e.forEach((e=>{let t=document.getElementById(n+"x"+e.x+"y"+e.y);1==e.hit&&t.classList.add(e.name)}))},winnerTakeover(e){let n=document.createElement("div"),t=document.createElement("div"),r=document.createElement("button");n.classList.add("take-over"),n.id="take-over",t.textContent=e+" wins!",t.classList.add("winner-message"),r.textContent="Replay?",r.addEventListener("click",(()=>{PubSub.publish("new-round")})),n.appendChild(t),n.appendChild(r),document.body.appendChild(n)},clearScreen(){let e=document.getElementById("main"),n=document.getElementById("take-over");e.innerHTML="",null!==n&&n.remove()},clearBoard(e,n){"computer"!==n?e.forEach((e=>{document.getElementById(n+"x"+e.x+"y"+e.y).className="field"})):e.forEach((e=>{let t=document.getElementById(n+"x"+e.x+"y"+e.y);1==e.hit&&(t.className="field")}))}}}function n(){return{possibleMoves:[],coordinates:[],missedShots:[],targetOptions:[],evaluatePlacement(e,n,t){let r=[];n=parseInt(n),t=parseInt(t);for(let o=0;o<e.length;o++){let e={x:n+o,y:t,pos:1},a={x:n-o,y:t,pos:2},i={x:n,y:t+o,pos:3},s={x:n,y:t-o,pos:4};r.push(e,a,i,s)}let o=[];for(let e=0;e<r.length;e++)(r[e].x>10||r[e].y>10||r[e].x<1||r[e].y<1)&&o.push(r[e].pos);o=o.filter(((e,n,t)=>t.indexOf(e)===n)),o&&o.forEach((e=>{r=r.filter((function(n,t,r){return n.pos!==e}))}));let a=[];for(let e=0;e<r.length;e++)this.coordinates.forEach((n=>{r[e].x==n.x&&r[e].y==n.y&&a.push(r[e].pos)}));return a=a.filter(((e,n,t)=>t.indexOf(e)===n)),a?(a.forEach((e=>{r=r.filter((function(n,t,r){return n.pos!==e}))})),r):0!=r.length&&r},placeShip(e,n,t){let r=this.evaluatePlacement(e,n,t);if(0==r)return!1;{let n=[...new Set(r.map((e=>e.pos)))],t=n[Math.floor(Math.random()*n.length)];return r=r.filter((e=>e.pos==t)),r.length,r.forEach((n=>{let t={x:n.x,y:n.y,name:e.name,hit:!1};this.coordinates.push(t)})),r}},populateMoves(){for(let e=1;e<11;e++)for(let n=1;n<11;n++)this.possibleMoves.push([e,n])},launchAttack(){if(0==this.targetOptions.length){const e=Math.floor(Math.random()*this.possibleMoves.length);let n=this.possibleMoves[e];return this.possibleMoves.splice(e,1),n}{let e=this.targetOptions[0];return this.targetOptions.splice(0,1),e}},hitHunt(e){let n=[];n.push([e[0]-1,e[1]],[e[0]+1,e[1]],[e[0],e[1]-1],[e[0],e[1]+1]),n=n.filter((function(e){return e[0]<11&&e[0]>0&&e[1]<11&&e[1]})),n.forEach((e=>{for(let n=0;n<this.possibleMoves.length;n++)e[0]==this.possibleMoves[n][0]&&e[1]==this.possibleMoves[n][1]&&(this.targetOptions.push(e),this.possibleMoves.splice(n,1))}))},receiveAttack(e,n){let t=this.coordinates.find((t=>{if(t.x==e&&t.y==n)return t}));if(t)return t.hit=!0,t.name;{let t={x:e,y:n};return this.missedShots.push(t),{missed:t}}},checkGameEnd(){let e=!0;return this.coordinates.forEach((n=>{0==n.hit&&(e=!1)})),e}}}function r(e,n){return{name:e,cpu:n,currentTurn:!1}}function o(e,n){return{name:n,length:e,hits:0,hitReceived(){this.hits=this.hits+1,this.length==this.hits&&(this.isSunk=!0)},isSunk:!1}}var a=t(798),i=t.n(a),s=t(379),c=t.n(s),l=t(795),u=t.n(l),d=t(569),p=t.n(d),A=t(565),f=t.n(A),b=t(216),h=t.n(b),m=t(589),y=t.n(m),g=t(28),B={};B.styleTagTransform=y(),B.setAttributes=f(),B.insert=p().bind(null,"head"),B.domAPI=u(),B.insertStyleElement=h(),c()(g.Z,B),g.Z&&g.Z.locals&&g.Z.locals,function(t){let a=e(),s={player1:r("John",!1),player2:r("computer",!0),player1Gameboard:n(),cpuGameboard:n(),currentTurn:"",refresh(){let n=e();n.drawBoard(this.player1.name),n.markShips(this.player1Gameboard.coordinates,this.player1.name)},deployShips(e){let n=null,t=()=>Math.floor(10*Math.random())+1,r=o(5,"carrier"),a=o(4,"battleship"),i=o(3,"cruiser"),s=o(3,"submarine"),c=o(2,"destroyer"),l=[];return l.push(r,a,i,s,c),n=e==this.player1?this.player1Gameboard:this.cpuGameboard,l.forEach((e=>{n.placeShip(e,t(),t())||n.placeShip(e,t(),t())})),n.coordinatess},deployShipManual(e,n,t){let r=o([{name:"carrier",length:5},{name:"battleship",length:4},{name:"cruiser",length:3},{name:"submarine",length:3},{name:"destroyer",length:2}].find((n=>{if(n.name==e)return n.length})).length,e);if(!this.player1Gameboard.placeShip(r,n,t)){let e={newShip:r,x:n,y:t};i().publish("no-option",e)}return this.player1Gameboard.coordinates}};s.deployShips(s.player2),s.cpuGameboard.populateMoves(),s.refresh(),a.drawShipsManual();i().subscribe("button-click",(function(e,n){"object"==typeof s.cpuGameboard.receiveAttack(n[0],n[1])?a.updateCell("computer",n[0],n[1],"miss"):a.updateCell("computer",n[0],n[1],"hit"),s.cpuGameboard.checkGameEnd()&&a.winnerTakeover(s.player1.name);let t=s.cpuGameboard.launchAttack();"object"==typeof s.player1Gameboard.receiveAttack(t[0],t[1])?a.updateCell(s.player1.name,t[0],t[1],"miss"):(a.updateCell(s.player1.name,t[0],t[1],"hit"),s.cpuGameboard.hitHunt(t)),s.player1Gameboard.checkGameEnd()&&a.winnerTakeover(s.player2.name)})),i().subscribe("drop",(function(e,n){s.deployShipManual(n[0].id,n[1].x,n[2].y),a.markShips(s.player1Gameboard.coordinates,s.player1.name),a.checkIfAllShipsPlaced()&&a.drawBoard(s.player2.name)})),i().subscribe("deploy-random",(function(e,n){a.clearBoard(s.player1Gameboard.coordinates,s.player1.name),s.player1Gameboard.coordinates=[],s.deployShips(s.player1),a.markShips(s.player1Gameboard.coordinates,s.player1.name),a.removeShipSection(),a.drawBoard(s.player2.name)})),i().subscribe("clear-board",(function(e,n){a.clearBoard(s.player1Gameboard.coordinates,s.player1.name),s.player1Gameboard.coordinates=[],a.drawShipsManual(),a.markShips(s.player1Gameboard.coordinates,s.player1.name)})),i().subscribe("new-round",(()=>{a.clearScreen(),s={},location.reload()}))}()})()})();
//# sourceMappingURL=main.js.map